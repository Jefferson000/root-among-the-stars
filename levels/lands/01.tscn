[gd_scene load_steps=19 format=4 uid="uid://b2o87xtjxaa2"]

[ext_resource type="Script" uid="uid://cohctxg8evdaf" path="res://levels/Level.gd" id="1_l2ak3"]
[ext_resource type="PackedScene" uid="uid://bcr6f7n3fl2rf" path="res://tilemaps/grass/grass.tscn" id="1_xlvri"]
[ext_resource type="PackedScene" uid="uid://bshvgbqkuoyd1" path="res://levels/level_transition/level_transition.tscn" id="2_fl0jm"]
[ext_resource type="PackedScene" uid="uid://dx4udcgwadoh" path="res://levels/spawn/player_spawn.tscn" id="2_sqbdx"]
[ext_resource type="PackedScene" uid="uid://vmw7yyqw7eqj" path="res://features/enemies/slime/slime.tscn" id="5_dh2nq"]
[ext_resource type="AudioStream" uid="uid://dujn16esq57rg" path="res://music/example_music_01.ogg" id="6_bklj5"]
[ext_resource type="PackedScene" uid="uid://csvtvbxr0n4ll" path="res://features/npcs/npc.tscn" id="7_2q2vs"]
[ext_resource type="Resource" uid="uid://c0y0vruq3xdl0" path="res://features/npcs/characters/oren/npc_oren.tres" id="8_518ck"]
[ext_resource type="PackedScene" uid="uid://1xanwa3poqg" path="res://features/npcs/behavior/wander/npc_behavior_wander.tscn" id="8_bej6m"]
[ext_resource type="PackedScene" uid="uid://dvduvbg3nm7yx" path="res://features/interactables/dialog/dialog_interaction.tscn" id="10_ffbbn"]
[ext_resource type="Resource" uid="uid://bt773ke4tyuox" path="res://features/npcs/characters/nero/npc_nero.tres" id="10_lo7u3"]
[ext_resource type="PackedScene" uid="uid://dhippoev8w703" path="res://features/npcs/behavior/patrol/npc_behavior_patrol.tscn" id="11_2q8pq"]
[ext_resource type="Script" uid="uid://dqcj064kydx58" path="res://features/gui/dialog_system/dialog_item/dialog_text/dialog_text.gd" id="11_cgx8w"]
[ext_resource type="Resource" uid="uid://ck1rieqy4eaax" path="res://features/player/player.tres" id="12_12n3i"]
[ext_resource type="PackedScene" uid="uid://c8bv0jln5iint" path="res://features/npcs/behavior/patrol/patrol_location.tscn" id="12_ffbbn"]
[ext_resource type="Script" uid="uid://dutjlx3jay7wb" path="res://features/gui/dialog_system/dialog_item/dialog_choice/dialog_choice.gd" id="13_xm58h"]
[ext_resource type="Script" uid="uid://bv34krrm5gscc" path="res://features/gui/dialog_system/dialog_item/dialog_branch/dialog_branch.gd" id="14_6pyjo"]
[ext_resource type="PackedScene" uid="uid://sa1lhoafjj67" path="res://props/pot/pot.tscn" id="18_6pyjo"]

[node name="01" type="Node2D"]
script = ExtResource("1_l2ak3")
music = ExtResource("6_bklj5")

[node name="PlayerSpawn" parent="." instance=ExtResource("2_sqbdx")]
position = Vector2(432, 144)

[node name="Grass" parent="." instance=ExtResource("1_xlvri")]
tile_map_data = PackedByteArray("AAAAAAAAAAADAAUAAAAAAAEAAAADAAYAAAAAAAIAAAACAAMAAAABAAAAAAADAAUAAAABAAEAAAADAAYAAAABAAIAAAAAAAIAAAACAAAAAAADAAUAAAACAAEAAAADAAYAAAACAAIAAAAMAAAAAAADAAAAAAADAAUAAAADAAEAAAADAAYAAAADAAIAAAAOAAAAAAAEAAAAAAADAAUAAAAEAAEAAAADAAYAAAAEAAIAAAAOAAAAAAAFAAAAAAADAAUAAAAFAAEAAAADAAYAAAAFAAIAAAAPAAAAAAAGAAAAAAADAAUAAAAGAAEAAAADAAYAAAAGAAIAAAAAAAIAAAAHAAAAAAADAAUAAAAHAAEAAAADAAYAAAAHAAIAAAAAAAIAAAAIAAAAAAADAAUAAAAIAAEAAAADAAYAAAAIAAIAAAAAAAIAAAAJAAAAAAADAAUAAAAJAAEAAAADAAYAAAAJAAIAAAAAAAIAAAAKAAAAAAADAAUAAAAKAAEAAAADAAYAAAAKAAIAAAAAAAIAAAALAAAAAAADAAUAAAALAAEAAAADAAYAAAALAAIAAAAAAAIAAAAMAAAAAQAAAAEAAAAMAAEAAQAAAAIAAAAMAAIAAAAAAAIAAAANAAAAAQABAAEAAAANAAEAAQABAAIAAAANAAIAAAAAAAIAAAAOAAAAAQACAAEAAAAOAAEAAQACAAIAAAAOAAIAAAAAAAIAAAAAAAMAAAACAAMAAAAAAAQAAAACAAMAAAAAAAUAAAACAAMAAAABAAMAAAAMAAAAAAABAAQAAAAMAAMAAAABAAUAAAAAAAIAAAACAAMAAAAJAAEAAAACAAQAAAAJAAIAAAACAAUAAAAMAAMAAAADAAMAAAANAAIAAAADAAQAAAANAAIAAAADAAUAAAANAAMAAAAEAAMAAAANAAIAAAAEAAQAAAANAAIAAAAEAAUAAAAAAAAAAAAFAAMAAAAPAAIAAAAFAAQAAAAPAAMAAAAFAAUAAAAAAAIAAAAGAAMAAAAAAAAAAAAGAAQAAAAAAAEAAAAGAAUAAAAAAAIAAAAHAAMAAAAAAAAAAAAHAAQAAAAAAAEAAAAHAAUAAAAAAAIAAAAIAAMAAAAMAAAAAAAIAAQAAAAMAAEAAAAIAAUAAAAMAAEAAAAJAAMAAAAOAAAAAAAJAAQAAAANAAIAAAAJAAUAAAAPAAIAAAAKAAMAAAAOAAAAAAAKAAQAAAANAAMAAAAKAAUAAAAAAAIAAAALAAMAAAAOAAAAAAALAAQAAAANAAMAAAALAAUAAAAAAAIAAAAMAAMAAAAOAAAAAAAMAAQAAAANAAMAAAAMAAUAAAAAAAIAAAANAAMAAAAOAAAAAAANAAQAAAANAAMAAAANAAUAAAAAAAIAAAAOAAMAAAAOAAAAAAAOAAQAAAANAAMAAAAOAAUAAAAAAAIAAAAOAAYAAAAAAAAAAAAOAAcAAAAAAAEAAAAOAAgAAAAPAAQAAAANAAYAAAAAAAAAAAANAAcAAAAAAAEAAAANAAgAAAAPAAQAAAAMAAYAAAAAAAAAAAAMAAcAAAAAAAEAAAAMAAgAAAAPAAQAAAALAAYAAAAAAAAAAAALAAcAAAAAAAEAAAALAAgAAAAPAAQAAAAKAAYAAAAAAAAAAAAKAAcAAAAAAAEAAAAKAAgAAAAPAAQAAAAJAAYAAAAPAAIAAAAJAAcAAAAPAAIAAAAJAAgAAAAPAAIAAAAIAAYAAAAMAAEAAAAIAAcAAAAMAAEAAAAIAAgAAAAMAAEAAAAHAAYAAAAAAAAAAAAHAAcAAAAAAAEAAAAHAAgAAAAAAAAAAAAGAAYAAAAAAAAAAAAGAAcAAAAAAAAAAAAGAAgAAAAAAAAAAAAFAAYAAAAAAAAAAAAFAAcAAAAGAAQAAAAFAAgAAAAGAAQAAAAEAAYAAAAAAAEAAAAEAAcAAAAAAAAAAAAEAAgAAAAAAAAAAAADAAYAAAAAAAAAAAADAAcAAAAAAAEAAAADAAgAAAAAAAAAAAACAAYAAAAAAAAAAAACAAcAAAAAAAEAAAACAAgAAAAAAAAAAAABAAYAAAAAAAAAAAABAAcAAAAAAAEAAAAAAAYAAAACAAMAAAAAAAcAAAAAAAEAAAAAAAgAAAAAAAAAAAAPAAAAAAADAAUAAAAPAAEAAAADAAYAAAAPAAIAAAAKAAcAAAAPAAMAAAAOAAAAAAAPAAQAAAANAAMAAAAPAAUAAAAKAAQAAAAPAAYAAAAKAAUAAAAPAAcAAAAKAAUAAAAPAAgAAAAKAAYAAAAPAAkAAAAKAAcAAAAPAAoAAAAOAAQAAAAOAAkAAAAAAAIAAAAOAAoAAAANAAQAAAANAAkAAAAAAAEAAAANAAoAAAAMAAQAAAAMAAkAAAAAAAEAAAAMAAoAAAAMAAQAAAALAAkAAAAAAAEAAAALAAoAAAALAAQAAAAKAAkAAAAPAAQAAAAKAAoAAAAKAAQAAAAJAAkAAAAPAAIAAAAJAAoAAAAPAAIAAAAIAAkAAAAMAAEAAAAIAAoAAAAMAAEAAAAHAAkAAAAGAAQAAAAHAAoAAAAOAAQAAAAGAAkAAAAPAAQAAAAGAAoAAAANAAQAAAAFAAkAAAAPAAQAAAAFAAoAAAAMAAQAAAAEAAkAAAAPAAQAAAAEAAoAAAAMAAQAAAADAAkAAAAGAAQAAAADAAoAAAAMAAQAAAACAAkAAAAAAAEAAAACAAoAAAAMAAQAAAABAAkAAAAAAAEAAAABAAoAAAALAAQAAAAAAAkAAAAAAAAAAAAAAAoAAAAKAAQAAAABAAgAAAAAAAAAAAD//wkAAAAOAAUAAAD//woAAAAOAAUAAAD//wAAAAADAAUAAAD//wEAAAADAAYAAAD//wIAAAAOAAQAAAD//wMAAAAOAAUAAAD//wQAAAAOAAUAAAD//wUAAAAOAAUAAAD//wYAAAAOAAUAAAD//wcAAAAOAAUAAAD//wgAAAAOAAUAAAAPAP//AAADAAQAAAAOAP//AQACAAAAAAANAP//AQABAAAAAAAMAP//AQAAAAAAAAALAP//AAADAAQAAAAKAP//AAADAAQAAAAJAP//AAADAAQAAAAIAP//AAADAAQAAAAHAP//AAADAAQAAAAGAP//AAADAAQAAAABAP//AAADAAQAAAAAAP//AAADAAQAAAD/////AAADAAQAAAACAP//AAADAAQAAAADAP//AAADAAQAAAAEAP//AAADAAQAAAAFAP//AAADAAQAAAA=")

[node name="RightLevelTransition" parent="." instance=ExtResource("2_fl0jm")]
position = Vector2(512, 128)
level = "uid://c63luiieq0wyx"
target_transition_area = "LeftLevelTransition"
side = 1

[node name="BottomLevelTransition" parent="." instance=ExtResource("2_fl0jm")]
position = Vector2(288, 352)
level = "uid://cwr4p6f7lo5e5"
target_transition_area = "TopLevelTransition"
side = 3

[node name="TopLevelTransition" parent="." instance=ExtResource("2_fl0jm")]
position = Vector2(432, 56)
level = "uid://dg4ap5rhvqlbd"
target_transition_area = "BottomLevelTransition"
center_player = true
side = 2

[node name="Slime4" parent="." instance=ExtResource("5_dh2nq")]
position = Vector2(321, 87)

[node name="NPC" parent="." instance=ExtResource("7_2q2vs")]
position = Vector2(426.9664, 223.91724)
npc_resource = ExtResource("8_518ck")

[node name="NpcBehaviorWander" parent="NPC" instance=ExtResource("8_bej6m")]

[node name="DialogInteraction" parent="NPC" instance=ExtResource("10_ffbbn")]
enabled = true

[node name="DialogText" type="Node" parent="NPC/DialogInteraction"]
script = ExtResource("11_cgx8w")
text = "
Hi, [b]player[/b] is that you?"
npc_info = ExtResource("8_518ck")
metadata/_custom_type_script = "uid://dqcj064kydx58"

[node name="DialogText2" type="Node" parent="NPC/DialogInteraction"]
script = ExtResource("11_cgx8w")
text = "
[wave]Heck yeah it's me![/wave]"
npc_info = ExtResource("12_12n3i")
metadata/_custom_type_script = "uid://dqcj064kydx58"

[node name="DialogText3" type="Node" parent="NPC/DialogInteraction"]
script = ExtResource("11_cgx8w")
text = "
Nice bro, happy to see you!"
npc_info = ExtResource("8_518ck")
metadata/_custom_type_script = "uid://dqcj064kydx58"

[node name="NPC2" parent="." instance=ExtResource("7_2q2vs")]
position = Vector2(130, 119)
npc_resource = ExtResource("10_lo7u3")

[node name="NpcBehaviorPatrol" parent="NPC2" instance=ExtResource("11_2q8pq")]

[node name="PatrolLocation0" parent="NPC2/NpcBehaviorPatrol" instance=ExtResource("12_ffbbn")]
modulate = Color(1, 0, 0, 1)
position = Vector2(94, 9)

[node name="PatrolLocation1" parent="NPC2/NpcBehaviorPatrol" instance=ExtResource("12_ffbbn")]
modulate = Color(1, 1, 0, 1)
position = Vector2(94, 73)

[node name="PatrolLocation2" parent="NPC2/NpcBehaviorPatrol" instance=ExtResource("12_ffbbn")]
modulate = Color(0, 1, 0, 1)
position = Vector2(-2, 73)
wait_time = 1.0

[node name="PatrolLocation3" parent="NPC2/NpcBehaviorPatrol" instance=ExtResource("12_ffbbn")]
modulate = Color(0, 1, 1, 1)
position = Vector2(-2, 9)

[node name="DialogInteraction" parent="NPC2" instance=ExtResource("10_ffbbn")]
enabled = true

[node name="DialogText" type="Node" parent="NPC2/DialogInteraction"]
script = ExtResource("11_cgx8w")
text = "
Hi, Hero!"
npc_info = ExtResource("10_lo7u3")
metadata/_custom_type_script = "uid://dqcj064kydx58"

[node name="DialogText2" type="Node" parent="NPC2/DialogInteraction"]
script = ExtResource("11_cgx8w")
text = "
Will you help me recovering my magic flute from the dark dungeon?"
npc_info = ExtResource("10_lo7u3")
metadata/_custom_type_script = "uid://dqcj064kydx58"

[node name="DialogChoice" type="Node" parent="NPC2/DialogInteraction"]
script = ExtResource("13_xm58h")
npc_info = ExtResource("10_lo7u3")
metadata/_custom_type_script = "uid://dutjlx3jay7wb"

[node name="DialogBranch" type="Node" parent="NPC2/DialogInteraction/DialogChoice"]
script = ExtResource("14_6pyjo")
text = "Count on it!"
npc_info = ExtResource("10_lo7u3")
metadata/_custom_type_script = "uid://bv34krrm5gscc"

[node name="DialogText" type="Node" parent="NPC2/DialogInteraction/DialogChoice/DialogBranch"]
script = ExtResource("11_cgx8w")
text = "
Thank you dear hero! You are a true specimen!"
npc_info = ExtResource("10_lo7u3")
metadata/_custom_type_script = "uid://dqcj064kydx58"

[node name="DialogText2" type="Node" parent="NPC2/DialogInteraction/DialogChoice/DialogBranch"]
script = ExtResource("11_cgx8w")
text = "
Oh, be careful of the evil wizard who lurks in the dungeon"
npc_info = ExtResource("10_lo7u3")
metadata/_custom_type_script = "uid://dqcj064kydx58"

[node name="DialogBranch2" type="Node" parent="NPC2/DialogInteraction/DialogChoice"]
script = ExtResource("14_6pyjo")
text = "No thanks!"
npc_info = ExtResource("10_lo7u3")
metadata/_custom_type_script = "uid://bv34krrm5gscc"

[node name="DialogText" type="Node" parent="NPC2/DialogInteraction/DialogChoice/DialogBranch2"]
script = ExtResource("11_cgx8w")
text = "Geez! Some luisy hero you are..."
npc_info = ExtResource("10_lo7u3")
metadata/_custom_type_script = "uid://dqcj064kydx58"

[node name="Pot" parent="." instance=ExtResource("18_6pyjo")]
position = Vector2(348, 133)

[node name="Pot2" parent="." instance=ExtResource("18_6pyjo")]
position = Vector2(297, 134)

[node name="Pot3" parent="." instance=ExtResource("18_6pyjo")]
position = Vector2(408, 229)

[node name="Pot4" parent="." instance=ExtResource("18_6pyjo")]
position = Vector2(450, 224)

[node name="Pot5" parent="." instance=ExtResource("18_6pyjo")]
position = Vector2(294, 151)

[node name="Pot6" parent="." instance=ExtResource("18_6pyjo")]
position = Vector2(443, 257)
